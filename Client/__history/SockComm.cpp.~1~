//---------------------------------------------------------------------------

#pragma hdrstop

#include "SockComm.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)


__fastcall 	SockComm::SockComm()
{
	initSocket();
}

__fastcall  SockComm::~SockComm()
{

}
__fastcall int SockComm::initSocket()
{
int result;
	sockResult = NULL;
	ptr = NULL;
	result = WSAStartup(MAKEWORD(2,2), &wsaData);

	if(sockInitialized == true)
	{
		Application->NormalizeTopMosts();
		Application->MessageBox(L"Error! Socket Initialized.", L"Error",  MB_OK );
		Application->RestoreTopMosts();
		result = false;
	}

	else if(result != 0)
	{
		Application->NormalizeTopMosts();
		Application->MessageBox(L"Error! Invalid socket.", L"Error",  MB_OK );
		Application->RestoreTopMosts();
		result = false;
	}

	else
	{
		ZeroMemory(&hints, sizeof(hints) );
		hints.ai_family = AF_UNSPEC;
		hints.ai_socktype = SOCK_STREAM;
		hints.ai_protocol = IPPROTO_TCP;
		sockInitialized = true;

		result = true;
	}

	ConnectSocket = INVALID_SOCKET;

	return result;
}


__fastcall	int SockComm::restartSocket()
{

}

__fastcall	int SockComm::closeSocket()
{

}

__fastcall	int SockComm::deleteSocket()
{

}

__fastcall	int SockComm::connectToServer()
{

}

__fastcall	int SockComm::disconnectServer()
{

}

